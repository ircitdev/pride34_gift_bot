# Руководство пользователя Pride34 Gift Bot

## Для участников

### Как пройти квиз

1. **Запустите бота**
   - Найдите бота в Telegram: [@PRIDE34_GIFT_BOT](https://t.me/PRIDE34_GIFT_BOT)
   - Нажмите "Start" или отправьте команду `/start`

2. **Прочитайте приветствие**
   - Бот расскажет о новогоднем квизе и призах
   - Нажмите кнопку "Начать квиз"

3. **Ответьте на 5 вопросов**
   - Вопросы о новогодних традициях и фитнесе
   - Выберите один из вариантов ответа для каждого вопроса
   - Прогресс отображается индикатором ▪️▫️▫️▫️▫️

4. **Выберите пол**
   - После квиза выберите "Мужской" или "Женский"
   - Это нужно для создания вашей персональной фигурки

5. **Загрузите фото**
   - Отправьте чёткое фото вашего лица
   - Желательно, чтобы вы были один в кадре
   - Фото должно быть хорошего качества

6. **Получите результат**
   - Бот обработает ваше фото (займёт несколько секунд)
   - Вы получите персонализированное новогоднее изображение
   - Вместе с изображением придёт ваше фитнес-предсказание на 2026 год
   - Вы автоматически участвуете в розыгрыше сертификатов!

### Что делать дальше

- **Поделитесь результатом** в социальных сетях с хештегом #PRIDE34Квиз
- **Дождитесь розыгрыша** 30 декабря
- **Если вы победили**, бот пришлёт уведомление

### Часто задаваемые вопросы

**Q: Могу ли я пройти квиз повторно?**
A: Да, нажмите кнопку "Начать заново" в финальном сообщении.

**Q: Как узнать, выиграл ли я?**
A: Победители получат личное сообщение от бота после проведения розыгрыша.

**Q: Сохраняется ли моё фото?**
A: Фото используется только для создания новогоднего образа и хранится на сервере для возможности повторной генерации.

**Q: Не могу загрузить фото**
A: Убедитесь, что отправляете именно фото, а не файл или документ. Фото должно быть сжато Telegram (не "Отправить без сжатия").

---

## Для администраторов

### Доступ к админ-панели

1. Убедитесь, что ваш Telegram ID добавлен в `ADMIN_IDS` в файле `.env`
2. Отправьте боту команду `/admin`
3. Используйте кнопки для управления

### Функции админ-панели

#### 1. Статистика
Показывает:
- Общее количество участников
- Количество пользователей, прошедших квиз
- Количество загруженных фото
- Количество победителей
- Дату окончания розыгрыша
- Количество призовых мест

#### 2. Розыгрыш
**Важно:** Розыгрыш можно провести только один раз!

- Нажмите кнопку "Розыгрыш"
- Бот автоматически выберет случайных победителей из всех участников
- Количество победителей определяется параметром `WINNERS_COUNT` в `.env`
- Победители автоматически получат уведомление в боте

#### 3. Победители
Показывает список всех победителей с информацией:
- Полное имя
- Username (если есть)
- Telegram ID

Используйте эту информацию для связи с победителями.

#### 4. Экспорт данных
Скачивает CSV файл со всеми участниками, включая:
- ID пользователя
- Username
- Полное имя
- Пол
- Статус прохождения квиза
- Статус загрузки фото
- Победитель или нет
- Дата регистрации

### Управление конкурсом

#### Изменение даты окончания
Отредактируйте параметр `QUIZ_END_DATE` в `.env`:
```
QUIZ_END_DATE=2025-12-30
```

#### Изменение количества победителей
Отредактируйте параметр `WINNERS_COUNT` в `.env`:
```
WINNERS_COUNT=30
```

#### Добавление администраторов
Добавьте Telegram ID через запятую в `ADMIN_IDS`:
```
ADMIN_IDS=123456789,987654321,555666777
```

### Мониторинг бота

#### Просмотр логов
Логи выводятся в консоль при запуске бота. Следите за:
- Ошибками обработки фото
- Проблемами с базой данных
- Неудачными попытками отправки уведомлений

#### Резервное копирование
Регулярно создавайте резервные копии:
- Файл базы данных `bot.db`
- Папки с фото пользователей `user_photos/`
- Папки с сгенерированными изображениями `generated_photos/`

### Советы по работе

1. **Перед розыгрышем** проверьте статистику
2. **После розыгрыша** экспортируйте данные для отчётности
3. **Регулярно проверяйте** список победителей
4. **Сохраняйте CSV файлы** для истории конкурсов

### Безопасность

- Не делитесь токеном бота (`BOT_TOKEN`)
- Ограничьте доступ к файлу `.env`
- Регулярно обновляйте зависимости Python
- Делайте резервные копии базы данных

### Решение проблем

**Бот не реагирует на команды**
1. Проверьте, что бот запущен
2. Проверьте логи на наличие ошибок
3. Перезапустите бота

**Ошибка при создании фото**
1. Проверьте наличие папки `images/templates/`
2. Убедитесь, что установлены все зависимости
3. Проверьте права доступа к папкам

**Не приходят уведомления победителям**
1. Убедитесь, что пользователи не заблокировали бота
2. Проверьте логи на ошибки отправки
3. Свяжитесь с победителями вручную по ID

## Контакты поддержки

Для технической поддержки обратитесь к разработчику бота.
